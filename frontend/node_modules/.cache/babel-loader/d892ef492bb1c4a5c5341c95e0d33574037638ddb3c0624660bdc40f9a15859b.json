{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"text-subtitle-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_v_icon = _resolveComponent(\"v-icon\");\n  var _component_v_btn = _resolveComponent(\"v-btn\");\n  var _component_v_spacer = _resolveComponent(\"v-spacer\");\n  var _component_v_switch = _resolveComponent(\"v-switch\");\n  var _component_v_card_title = _resolveComponent(\"v-card-title\");\n  var _component_v_card_text = _resolveComponent(\"v-card-text\");\n  var _component_v_card = _resolveComponent(\"v-card\");\n  var _component_v_col = _resolveComponent(\"v-col\");\n  var _component_v_row = _resolveComponent(\"v-row\");\n  var _component_v_text_field = _resolveComponent(\"v-text-field\");\n  var _component_v_form = _resolveComponent(\"v-form\");\n  var _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  var _component_v_dialog = _resolveComponent(\"v-dialog\");\n  var _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_v_row, null, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_v_col, {\n            cols: \"12\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_cache[7] || (_cache[7] = _createElementVNode(\"h1\", {\n                \"class\": \"text-h4 mb-4\"\n              }, \"Smart Home Appliances\", -1)), _createVNode(_component_v_btn, {\n                color: \"primary\",\n                \"class\": \"mb-4\",\n                onClick: _cache[0] || (_cache[0] = function ($event) {\n                  return $data.showAddDialog = true;\n                })\n              }, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_v_icon, {\n                    left: \"\"\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[5] || (_cache[5] = [_createTextVNode(\"mdi-plus\")]);\n                    }),\n                    _: 1,\n                    __: [5]\n                  }), _cache[6] || (_cache[6] = _createTextVNode(\" Add New Appliance \"))];\n                }),\n                _: 1,\n                __: [6]\n              }), _createVNode(_component_v_row, null, {\n                \"default\": _withCtx(function () {\n                  return [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.appliances, function (appliance) {\n                    return _openBlock(), _createBlock(_component_v_col, {\n                      key: appliance.id,\n                      cols: \"12\",\n                      md: \"6\",\n                      lg: \"4\"\n                    }, {\n                      \"default\": _withCtx(function () {\n                        return [_createVNode(_component_v_card, null, {\n                          \"default\": _withCtx(function () {\n                            return [_createVNode(_component_v_card_title, null, {\n                              \"default\": _withCtx(function () {\n                                return [_createTextVNode(_toDisplayString(appliance.name) + \" \", 1), _createVNode(_component_v_spacer), _createVNode(_component_v_switch, {\n                                  modelValue: appliance.isOn,\n                                  \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n                                    return appliance.isOn = $event;\n                                  },\n                                  color: appliance.isOn ? 'success' : 'grey',\n                                  onChange: function onChange($event) {\n                                    return $options.toggleAppliance(appliance);\n                                  }\n                                }, null, 8, [\"modelValue\", \"onUpdate:modelValue\", \"color\", \"onChange\"])];\n                              }),\n                              _: 2\n                            }, 1024), _createVNode(_component_v_card_text, null, {\n                              \"default\": _withCtx(function () {\n                                return [_createElementVNode(\"div\", _hoisted_1, \"Status: \" + _toDisplayString(appliance.isOn ? 'On' : 'Off'), 1)];\n                              }),\n                              _: 2\n                            }, 1024)];\n                          }),\n                          _: 2\n                        }, 1024)];\n                      }),\n                      _: 2\n                    }, 1024);\n                  }), 128))];\n                }),\n                _: 1\n              })];\n            }),\n            _: 1,\n            __: [7]\n          })];\n        }),\n        _: 1\n      }), _createVNode(_component_v_dialog, {\n        modelValue: $data.showAddDialog,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n          return $data.showAddDialog = $event;\n        }),\n        \"max-width\": \"500px\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_v_card, null, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_v_card_title, null, {\n                \"default\": _withCtx(function () {\n                  return _cache[8] || (_cache[8] = [_createTextVNode(\"Add New Light\")]);\n                }),\n                _: 1,\n                __: [8]\n              }), _createVNode(_component_v_card_text, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_v_form, {\n                    ref: \"form\",\n                    modelValue: $data.valid,\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n                      return $data.valid = $event;\n                    })\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return [_createVNode(_component_v_text_field, {\n                        modelValue: $data.newAppliance.name,\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n                          return $data.newAppliance.name = $event;\n                        }),\n                        label: \"Name\",\n                        required: \"\"\n                      }, null, 8, [\"modelValue\"])];\n                    }),\n                    _: 1\n                  }, 8, [\"modelValue\"])];\n                }),\n                _: 1\n              }), _createVNode(_component_v_card_actions, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n                    color: \"error\",\n                    text: \"\",\n                    onClick: _cache[3] || (_cache[3] = function ($event) {\n                      return $data.showAddDialog = false;\n                    })\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[9] || (_cache[9] = [_createTextVNode(\"Cancel\")]);\n                    }),\n                    _: 1,\n                    __: [9]\n                  }), _createVNode(_component_v_btn, {\n                    color: \"primary\",\n                    disabled: !$data.valid,\n                    onClick: $options.addAppliance\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[10] || (_cache[10] = [_createTextVNode(\"Add\")]);\n                    }),\n                    _: 1,\n                    __: [10]\n                  }, 8, [\"disabled\", \"onClick\"])];\n                }),\n                _: 1\n              })];\n            }),\n            _: 1\n          })];\n        }),\n        _: 1\n      }, 8, [\"modelValue\"])];\n    }),\n    _: 1\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","_withCtx","_createVNode","_component_v_row","_component_v_col","cols","_createElementVNode","_component_v_btn","color","onClick","_cache","$event","$data","showAddDialog","_component_v_icon","left","_createTextVNode","_","__","_createElementBlock","_Fragment","_renderList","appliances","appliance","key","id","md","lg","_component_v_card","_component_v_card_title","_toDisplayString","name","_component_v_spacer","_component_v_switch","modelValue","isOn","onUpdateModelValue","onChange","$options","toggleAppliance","_component_v_card_text","_hoisted_1","_component_v_dialog","_component_v_form","ref","valid","_component_v_text_field","newAppliance","label","required","_component_v_card_actions","text","disabled","addAppliance"],"sources":["C:\\Users\\Izes\\Documents\\git\\Medavie\\smart-home\\frontend\\src\\components\\ApplianceList.vue"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <h1 class=\"text-h4 mb-4\">Smart Home Appliances</h1>\r\n        \r\n        <!-- Add New Appliance Button -->\r\n        <v-btn color=\"primary\" class=\"mb-4\" @click=\"showAddDialog = true\">\r\n          <v-icon left>mdi-plus</v-icon>\r\n          Add New Appliance\r\n        </v-btn>\r\n\r\n        <!-- Appliance List -->\r\n        <v-row>\r\n          <v-col v-for=\"appliance in appliances\" :key=\"appliance.id\" cols=\"12\" md=\"6\" lg=\"4\">\r\n            <v-card>\r\n              <v-card-title>\r\n                {{ appliance.name }}\r\n                <v-spacer></v-spacer>\r\n                <v-switch\r\n                  v-model=\"appliance.isOn\"\r\n                  :color=\"appliance.isOn ? 'success' : 'grey'\"\r\n                  @change=\"toggleAppliance(appliance)\"\r\n                ></v-switch>\r\n              </v-card-title>\r\n              \r\n              <v-card-text>\r\n                <div class=\"text-subtitle-1\">Status: {{ appliance.isOn ? 'On' : 'Off' }}</div>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <!-- Add Appliance Dialog -->\r\n    <v-dialog v-model=\"showAddDialog\" max-width=\"500px\">\r\n      <v-card>\r\n        <v-card-title>Add New Light</v-card-title>\r\n        <v-card-text>\r\n          <v-form ref=\"form\" v-model=\"valid\">\r\n            <v-text-field\r\n              v-model=\"newAppliance.name\"\r\n              label=\"Name\"\r\n              required\r\n            ></v-text-field>\r\n          </v-form>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"error\" text @click=\"showAddDialog = false\">Cancel</v-btn>\r\n          <v-btn color=\"primary\" :disabled=\"!valid\" @click=\"addAppliance\">Add</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'ApplianceList',\r\n  data() {\r\n    return {\r\n      appliances: [],\r\n      showAddDialog: false,\r\n      valid: false,\r\n      newAppliance: {\r\n        name: '',\r\n        isOn: false\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchAppliances() {\r\n      try {\r\n        const response = await axios.get('/api/v1/appliances');\r\n        this.appliances = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching appliances:', error);\r\n      }\r\n    },\r\n    async toggleAppliance(appliance) {\r\n      try {\r\n        const updatedAppliance = { ...appliance, isOn: !appliance.isOn };\r\n        await axios.put(`/api/v1/appliances/${appliance.id}`, updatedAppliance);\r\n        await this.fetchAppliances();\r\n      } catch (error) {\r\n        console.error('Error toggling appliance:', error);\r\n        appliance.isOn = !appliance.isOn; // Revert the switch if the request fails\r\n      }\r\n    },\r\n    async updateAppliance(appliance) {\r\n      try {\r\n        await axios.put(`/api/v1/appliances/${appliance.id}`, appliance);\r\n        await this.fetchAppliances();\r\n      } catch (error) {\r\n        console.error('Error updating appliance:', error);\r\n      }\r\n    },\r\n    async addAppliance() {\r\n      try {\r\n        const response = await axios.post('/api/v1/appliances', {\r\n          name: this.newAppliance.name,\r\n          isOn: false\r\n        });\r\n        \r\n        if (response.status === 200) {\r\n          this.showAddDialog = false;\r\n          this.newAppliance = { name: '', isOn: false };\r\n          await this.fetchAppliances();\r\n          alert('Light added successfully!');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error adding appliance:', error);\r\n        if (error.code === 'ERR_NETWORK') {\r\n          alert('Cannot connect to the server. Please make sure the backend is running.');\r\n        } else {\r\n          alert('Failed to add light. Please try again.');\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchAppliances();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.v-card {\r\n  margin-bottom: 16px;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}